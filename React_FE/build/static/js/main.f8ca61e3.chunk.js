(this["webpackJsonpmuseum-frontend"]=this["webpackJsonpmuseum-frontend"]||[]).push([[0],{278:function(e,t,n){e.exports=n(306)},283:function(e,t,n){},289:function(e,t){},290:function(e,t){},298:function(e,t){},301:function(e,t){},302:function(e,t){},303:function(e,t,n){},304:function(e,t,n){},305:function(e,t,n){},306:function(e,t,n){"use strict";n.r(t);var a=n(15),r=n.n(a),c=n(235),l=n.n(c),o=(n(283),n(184)),u=n(27),i=n(2),s=n.n(i),m=n(11),d=n(4),b=n(90),f=n(255),v=n.n(f),p={1:{name:"1",color:"red"},2:{name:"2",color:"yellow"},3:{name:"3",color:"lime"},4:{name:"4",color:"blue"},5:{name:"5",color:"black"}},h=function(e,t,n,a,r,c,l){for(var o=0;o<=e.length;o++)if(e[o]&&t[o]&&n[o]>a){var u=Object(d.a)(e[o],4),i=u[0],s=u[1],m=u[2],b=u[3],f=t[o];l.strokeStyle=p[f].color,l.lineWidth=10,l.fillStyle="white",l.font="30px Arial",l.beginPath(),l.fillText(p[f].name+" - "+Math.round(100*n[o])/100,s*r,i*c-10),l.rect(s*r,i*c,b*r/2,m*c/2),l.stroke()}};n(303);var E=function(){var e=Object(a.useRef)(null),t=Object(a.useRef)(null),n=Object(u.o)(),c=Object(a.useState)(null),l=Object(d.a)(c,2)[1],o=Object(a.useCallback)(function(){var a=Object(m.a)(s.a.mark((function a(r){var c,l,o,u,i,m,d,f,v,p,E,j,x,O,y;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if("undefined"===typeof e.current||null===e.current||4!==e.current.video.readyState){a.next=33;break}return c=e.current.video,l=e.current.video.videoWidth,o=e.current.video.videoHeight,e.current.video.width=l,e.current.video.height=o,t.current.width=l,t.current.height=o,u=b.a.fromPixels(c),i=b.c.resizeBilinear(u,[640,480]),m=i.cast("int32"),d=m.expandDims(0),a.next=14,r.executeAsync(d);case 14:return f=a.sent,a.next=17,f[6].array();case 17:return v=a.sent,a.next=20,f[4].array();case 20:return p=a.sent,a.next=23,f[3].array();case 23:E=a.sent,.9,E[0][0]>.9&&(j=p[0][0],x=E[0][0],n("/ObjectDescription",{state:{objectNumber:j,score:x}})),(O=t.current)?(y=O.getContext("2d"))?requestAnimationFrame((function(){h(v[0],p[0],E[0],.7,l,o,y)})):console.error("Canvas context not available"):console.error("Canvas element not available"),b.b(u),b.b(i),b.b(m),b.b(d),b.b(f);case 33:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),[n]),i=Object(a.useCallback)(Object(m.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.d("https://musuemtfod.s3.us-south.cloud-object-storage.appdomain.cloud/model.json");case 2:return t=e.sent,l(t),n=setInterval((function(){o(t)}),16.7),e.abrupt("return",(function(){return clearInterval(n)}));case 6:case"end":return e.stop()}}),e)}))),[o]);return Object(a.useEffect)((function(){i()}),[i]),r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("h1",null,"Museum"),r.a.createElement("div",{className:"Webcam-container"},r.a.createElement(v.a,{ref:e,muted:!0,className:"Webcam"}),r.a.createElement("canvas",{ref:t,className:"Canvas"}))))};n(304);var j=function(){var e,t,n=Object(u.m)(),a=(null===(e=n.state)||void 0===e?void 0:e.objectNumber)||"No object number",c=(null===(t=n.state)||void 0===t?void 0:t.score)||"No score";return r.a.createElement("div",{className:"object-description-container"},r.a.createElement("h1",null,"Object Description"),r.a.createElement("div",{className:"object-details"},r.a.createElement("div",{className:"image-container"},r.a.createElement("img",{src:"https://placekitten.com/400/300",alt:"Object"})),r.a.createElement("div",{className:"text-container"},r.a.createElement("label",null,"Object Number:"),r.a.createElement("input",{type:"text",value:a,readOnly:!0}),r.a.createElement("label",null,"Score:"),r.a.createElement("input",{type:"text",value:c,readOnly:!0}))))};n(305);var x=function(){return r.a.createElement(o.a,null,r.a.createElement(u.c,null,r.a.createElement(u.a,{path:"/",element:r.a.createElement(E,null)}),r.a.createElement(u.a,{path:"/ObjectDescription",element:r.a.createElement(j,null)})))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(x,null)),document.getElementById("root"))}},[[278,1,2]]]);
//# sourceMappingURL=main.f8ca61e3.chunk.js.map